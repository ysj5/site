import{g as m}from"./user.d3249c4a.js";import{d as f,r as s}from"./index.f84e54a6.js";const g=f("userStore",()=>{const t=s(""),a=s({id:0,username:""});function r(e){t.value=e}function i(e){a.value=e}function c(){const e=localStorage.getItem("username"),u=localStorage.getItem("email")||"",n=Object.fromEntries(document.cookie.split(";").map(o=>o.trim().split("="))).token;n&&e&&(t.value=n,m({username:e,email:u,showLoading:!1}).then(o=>{if(o.data){const l={...o==null?void 0:o.data[0]};a.value={...l}}}))}return{token:t,userInfo:a,updateToken:r,updateUserInfo:i,loadLocalCache:c}});export{g as u};
